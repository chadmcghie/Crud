{
  "protected_changes": [
    {
      "issue_id": "BI-2025-08-30-001",
      "file": "src/Infrastructure/Repositories/EntityFramework/EfUserRepository.cs",
      "lines": [45, 62],
      "hash": "pending-commit",
      "change_description": "Smart entity tracking in UpdateAsync that handles both tracked and untracked entities",
      "reason": "Integration tests use different DbContext scopes, requiring proper handling of both tracked and detached entities",
      "created": "2025-08-30 23:45",
      "do_not_modify": true
    },
    {
      "issue_id": "BI-2025-08-30-001",
      "file": "src/App/Features/Authentication/CommandHandlers.cs",
      "lines": [91, 94],
      "hash": "pending-commit",
      "change_description": "Return error response instead of throwing ArgumentException in RegisterUserCommandHandler",
      "reason": "Consistent error handling pattern - handlers should return error responses, not throw exceptions",
      "created": "2025-08-30 23:45",
      "do_not_modify": true
    },
    {
      "issue_id": "BI-2025-08-30-002",
      "file": ".github/workflows/pr-validation.yml",
      "lines": [39, 43],
      "hash": "b11c759",
      "change_description": "Added appsettings verification step before artifact upload",
      "reason": "Ensures configuration files exist and provides diagnostics for CI issues",
      "created": "2025-08-30 01:02",
      "do_not_modify": true
    },
    {
      "issue_id": "BI-2025-08-30-002", 
      "file": ".github/workflows/pr-validation.yml",
      "lines": [234, 250],
      "hash": "b11c759",
      "change_description": "Enhanced smoke test setup with detailed logging and error checking",
      "reason": "Provides better diagnostics and fails fast when configuration is missing",
      "created": "2025-08-30 01:02",
      "do_not_modify": true
    }
  ],
  "last_updated": "2025-08-30T01:02:00Z",
  "version": "1.0.0",
  "description": "Registry of code changes that must not be rolled back during troubleshooting",
  "schema": {
    "issue_id": "Blocking issue identifier",
    "file": "Path to protected file",
    "lines": "[startLine, endLine] - lines that are protected",
    "hash": "Git commit hash when protection was added",
    "change_description": "What was changed",
    "reason": "Why this change must be preserved",
    "created": "When protection was added",
    "do_not_modify": "Boolean flag for protection status"
  }
}